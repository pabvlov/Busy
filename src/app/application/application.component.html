
<ng-container *ngIf="ready; then loaded else loading"></ng-container>
<ng-template #loaded>
    <app-navbar></app-navbar>
    <div class="container-fluid">
        <div class="row">
            <div class="split-page col-lg-6 col-md-12 col-sm-12" >
                <section id="application">
                    <div class="center">
                        <div class="d-flex flex-column">
                            <div class="dual-buttons">
                                <div class="toggle">
                                    <span class="toggle__text">Servicios</span>
                                    <input type="checkbox" id="toggle_mobileData" [(ngModel)]="section">
                                    <label class="toggle__bar"
                                           for="toggle_mobileData">
                                      <span class="toggle__handle"></span>
                                    </label>
                                    <span class="toggle__text">Trabajos</span>
                                  </div>
                            </div>
                            
                            <div class="flex-container">
                                <div class="buttons-right animate__animated animate__backInDown">
                                    <div class="upside">
                                        <a class="btn btn-block transparent" routerLink="about" matTooltip="Sobre Busy"
                                            matTooltipPosition="right">
                                            <span class="material-symbols-outlined">
                                                info
                                            </span>
                                        </a>
                                        <button class="btn btn-block transparent profile" (click)="gotoProfile()" matTooltip="Mi perfil"
                                            matTooltipPosition="right">
            
                                            <img [src]="'http://localhost:3000/'+ foto" alt="" class="perfil-thumbnail">
                                        </button>
                                    </div>
                                    <div class="downside">
                                        <button class="btn btn-block transparent" (click)="logout()" matTooltip="Salir"
                                            matTooltipPosition="right">
                                            <span class="material-symbols-outlined">
                                                logout
                                            </span>
                                        </button>
                                    </div>
                                </div>
                                
                                <app-trabajos [pos]="jobPos" *ngIf="section == true" class="animate__animated animate__backInUp"></app-trabajos>
                                <app-servicios *ngIf="section == false"></app-servicios>
                                <div class="buttons-left animate__animated animate__backInDown">
                                    <button class="btn btn-block transparent" (click)="prev()" matTooltip="Subir"
                                        matTooltipPosition="above">
                                        <span class="material-symbols-outlined">
                                            arrow_upward
                                        </span>
                                    </button>
                                    <button class="btn btn-block transparent" (click)="gotoOffer()" matTooltip="Registrar Trabajo"
                                        matTooltipPosition="right">
                                        <span class="material-symbols-outlined">
                                            library_add
                                        </span>
                                    </button>
                                    <button class="btn btn-block transparent" (click)="next()" matTooltip="Bajar"
                                        matTooltipPosition="below">
                                        <span class="material-symbols-outlined">
                                            arrow_downward
                                        </span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
            </div>
            <div class="col-lg-6 col-md-12 col-sm-12 animate__animated absolute-sm" [ngClass]="innerWidth <= 997 && !showingInfo ? 'hidden animate__backOutRight': 'active animate__fadeInRightBig'">
                <app-job-info *ngIf="section"></app-job-info>
                <app-profile *ngIf="!section" [userRut]="userRut"></app-profile>
                {{ userRut }}
            </div>
        </div>    
    </div>    
</ng-template>
<ng-template #loading>
    <app-loader></app-loader>
</ng-template>
